<!--
  ~ Copyright (c) 2018 University of Stuttgart.
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0, or the Apache Software License 2.0
  ~ which is available at https://www.apache.org/licenses/LICENSE-2.0.
  ~
  ~ SPDX-License-Identifier: EPL-2.0 OR Apache-2.0
  -->

<p-dataTable [value]="(plans | async)?.plans" responsive="true">
    <!--<p-column field="id" header="ID"></p-column>-->
    <p-column field="plan_type" header="Type" [style]="{'width':'25%'}" styleClass="p-2 text-center">
        <ng-template let-col let-inst="rowData" pTemplate="body">
            <a target="_blank" [href]="inst.plan_type">
                {{ inst.plan_type.match('[^/]*$')[0] }}
            </a>
        </ng-template>
    </p-column>
    <!--<p-column field="plan_language" header="Language">-->
    <!--<ng-template let-col let-inst="rowData" pTemplate="body">-->
    <!--<a target="_blank" [href]="inst.plan_language">-->
    <!--{{ inst.plan_language.match('[^/]*$')[0] }}-->
    <!--</a>-->
    <!--</ng-template>-->
    <!--</p-column>-->
    <p-column field="plan_model_reference" header="Reference" styleClass="p-2"></p-column>
    <p-column [sortable]="false" [style]="{'width':'45px'}">
        <ng-template let-col let-inst="rowData" pTemplate="body">
            <button pButton icon="fa fa-play" type="button" (click)="showDialog(inst);"></button>
        </ng-template>
    </p-column>
</p-dataTable>

<opentosca-management-plan-execution-dialog [(visible)]="dialogVisible"
                                            [plan]="plan"></opentosca-management-plan-execution-dialog>
