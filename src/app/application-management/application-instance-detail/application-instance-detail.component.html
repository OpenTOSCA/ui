<!--
  ~ Copyright (c) 2018 University of Stuttgart.
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0, or the Apache Software License 2.0
  ~ which is available at https://www.apache.org/licenses/LICENSE-2.0.
  ~
  ~ SPDX-License-Identifier: EPL-2.0 OR Apache-2.0
  -->

<p-toolbar>
    <div class="ui-toolbar-group-left">
        <button pButton type="button" icon="fas fa-sync-alt"
                pTooltip="Reload" showDelay="300" tooltipPosition="right"
                (click)="triggerUpdate()"></button>
    </div>
</p-toolbar>

<p-fieldset *ngIf="serviceTemplateInstance; let serviceTemplateInstance; else loading"
            [style]="{'margin-bottom': '10px'}">
    <p-header><strong>Instance Information</strong></p-header>
    <div class="p-grid">
        <div class="p-col-3">
            <strong>ID</strong>
        </div>
        <div class="p-col">
            {{serviceTemplateInstance.id}}
        </div>
    </div>
    <div class="p-grid">
        <div class="p-col-3">
            <strong>State</strong>
        </div>
        <div class="p-col">
            {{serviceTemplateInstance.state}}
        </div>
    </div>
    <div class="p-grid">
        <div class="p-col-3">
            <strong>Creation Date</strong>
        </div>
        <div class="p-col">
            {{serviceTemplateInstance.created_at | date:'fullDate'}}
        </div>
    </div>
</p-fieldset>

<ng-template #loading>
    <p>Loading...</p>
</ng-template>

<p-fieldset [style]="{'margin-bottom': '10px'}">
    <p-header><strong>Management Plan Instances</strong></p-header>
    <opentosca-management-plan-instance-list [planInstances]="planInstances"></opentosca-management-plan-instance-list>
</p-fieldset>

<p-fieldset [style]="{'margin-bottom': '10px'}">
    <p-header><strong>Interfaces</strong></p-header>
    <opentosca-application-instance-boundary-definition-interfaces-list
            [instance]="serviceTemplateInstance"></opentosca-application-instance-boundary-definition-interfaces-list>
</p-fieldset>

