<!--
  ~ Copyright (c) 2018 University of Stuttgart.
  ~
  ~ See the NOTICE file(s) distributed with this work for additional
  ~ information regarding copyright ownership.
  ~
  ~ This program and the accompanying materials are made available under the
  ~ terms of the Eclipse Public License 2.0 which is available at
  ~ http://www.eclipse.org/legal/epl-2.0, or the Apache Software License 2.0
  ~ which is available at https://www.apache.org/licenses/LICENSE-2.0.
  ~
  ~ SPDX-License-Identifier: EPL-2.0 OR Apache-2.0
  -->

<p-dataTable [value]="(currentAppInstances | async)" [responsive]="true">
    <p-column field="id" header="Instance ID" [sortable]="true" styleClass="p-2 text-center"></p-column>
    <p-column field="state" header="State" [sortable]="true" styleClass="p-2 text-center"></p-column>
    <p-column field="created_at" header="Creation Date" [sortable]="true" styleClass="p-2 text-center">
        <ng-template let-col let-inst="rowData" pTemplate="body">
            {{ inst.created_at | date:'yyyy-MM-dd HH:mm' }}
        </ng-template>
    </p-column>
    <p-column header="" styleClass="text-center" [style]="{'width':'15%'}">
        <ng-template let-col let-inst="rowData" pTemplate="body">
            <div class="ui-toolbar-group-right">
                <button pButton
                        icon="fas fa-list"
                        type="button"
                        pTooltip="Show Details"
                        tooltipPosition="top"
                        showDelay="300"
                        [routerLink]="['/applications', inst.csar_id, 'instances', inst.id]">
                </button>
                &nbsp;
                <button *ngIf="terminationPlanAvailable"
                        pButton
                        icon="far fa-trash-alt"
                        type="button"
                        class="ui-button-danger"
                        pTooltip="Delete instance"
                        tooltipPosition="top"
                        showDelay="300"
                        (click)="terminateInstance(inst.id)">
                </button>
            </div>
            <!--<button-->
            <!--class="btn btn-danger btn-sm" type="button"-->
            <!--*ngIf="inst.state !== 'DELETED'" (click)="terminateInstance(inst.id)"-->
            <!--pTooltip="Delete Instance" tooltipPosition="top" showDelay="300">-->
            <!--<i class="fa fa-remove"></i>-->
            <!--</button>-->
        </ng-template>
    </p-column>
</p-dataTable>
